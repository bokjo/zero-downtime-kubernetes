
Showing logs for build [32msdaschner-zero-downtime-kuberne-hhpzj-14[0m stage [32mfrom-build-pack[0m and container [32mstep-credential-initializer-jgqqd[0m
{"level":"warn","ts":1572333226.647962,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: \"ref: refs/heads/master\" is not a valid GitHub commit ID"}
{"level":"info","ts":1572333226.6489034,"logger":"fallback-logger","caller":"creds-init/main.go:40","msg":"Credentials initialized."}

Showing logs for build [32msdaschner-zero-downtime-kuberne-hhpzj-14[0m stage [32mfrom-build-pack[0m and container [32mstep-working-dir-initializer-xhdst[0m
{"level":"warn","ts":1572333227.1056306,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1572333227.1077445,"logger":"fallback-logger","caller":"bash/main.go:65","msg":"Successfully executed command \"mkdir -p /workspace/source\""}

Showing logs for build [32msdaschner-zero-downtime-kuberne-hhpzj-14[0m stage [32mfrom-build-pack[0m and container [32mstep-place-tools[0m

Showing logs for build [32msdaschner-zero-downtime-kuberne-hhpzj-14[0m stage [32mfrom-build-pack[0m and container [32mstep-git-source-sdaschner-zero-downtime-kuberne-xpz4v[0m
{"level":"warn","ts":1572333235.244373,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: \"ref: refs/heads/master\" is not a valid GitHub commit ID"}
{"level":"info","ts":1572333236.4628482,"logger":"fallback-logger","caller":"git/git.go:102","msg":"Successfully cloned https://github.com/*********/zero-downtime-kubernetes.git @ v1.0.21 in path /workspace/source"}

Showing logs for build [32msdaschner-zero-downtime-kuberne-hhpzj-14[0m stage [32mfrom-build-pack[0m and container [32mstep-git-merge[0m
Using SHAs from PULL_REFS=master:b40809cf9241097441dee2f0b359640af7c22806
WARNING: no SHAs to merge, falling back to initial cloned commit

Showing logs for build [32msdaschner-zero-downtime-kuberne-hhpzj-14[0m stage [32mfrom-build-pack[0m and container [32mstep-setup-jx-git-credentials[0m
Generated Git credentials file /workspace/xdg_config/git/credentials

Showing logs for build [32msdaschner-zero-downtime-kuberne-hhpzj-14[0m stage [32mfrom-build-pack[0m and container [32mstep-build-mvn-deploy[0m
Picked up _JAVA_OPTIONS: -XX:+UnlockExperimentalVMOptions -Dsun.zip.disableMemoryMapping=true -XX:+UseParallelGC -XX:MinHeapFreeRatio=5 -XX:MaxHeapFreeRatio=10 -XX:GCTimeRatio=4 -XX:AdaptiveSizePolicyWeight=90 -Xms10m -Xmx192m
[INFO] Scanning for projects...
[INFO] 
[INFO] ----------------< com.sebastian-daschner:zero-downtime >----------------
[INFO] Building zero-downtime 1.0.21
[INFO] --------------------------------[ war ]---------------------------------
[INFO] 
[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ zero-downtime ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ zero-downtime ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /workspace/source/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ zero-downtime ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 3 source files to /workspace/source/target/classes
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ zero-downtime ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /workspace/source/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ zero-downtime ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:3.0.0-M1:test (default-test) @ zero-downtime ---
[INFO] No tests to run.
[INFO] 
[INFO] --- maven-war-plugin:3.2.2:war (default-war) @ zero-downtime ---
[INFO] Packaging webapp
[INFO] Assembling webapp [zero-downtime] in [/workspace/source/target/coffee-shop]
[INFO] Processing war project
[INFO] Webapp assembled in [74 msecs]
[INFO] Building war: /workspace/source/target/coffee-shop.war
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ zero-downtime ---
[INFO] Installing /workspace/source/target/coffee-shop.war to /home/jenkins/.mvnrepository/com/sebastian-daschner/zero-downtime/1.0.21/zero-downtime-1.0.21.war
[INFO] Installing /workspace/source/pom.xml to /home/jenkins/.mvnrepository/com/sebastian-daschner/zero-downtime/1.0.21/zero-downtime-1.0.21.pom
[INFO] 
[INFO] --- maven-deploy-plugin:2.8.2:deploy (default-deploy) @ zero-downtime ---
[INFO] Using alternate deployment repository local-nexus::default::http://nexus/repository/maven-releases/
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  15.084 s
[INFO] Finished at: 2019-10-29T07:14:16Z
[INFO] ------------------------------------------------------------------------

Showing logs for build [32msdaschner-zero-downtime-kuberne-hhpzj-14[0m stage [32mfrom-build-pack[0m and container [32mstep-build-skaffold-version[0m
v0.38.0

Showing logs for build [32msdaschner-zero-downtime-kuberne-hhpzj-14[0m stage [32mfrom-build-pack[0m and container [32mstep-build-container-build[0m
[36mINFO[0m[0000] Downloading base image open-liberty:javaee8-java12 
ERROR: logging before flag.Parse: E1029 07:14:17.586403      10 metadata.go:142] while reading 'google-dockercfg' metadata: http status code: 404 while fetching url http://metadata.google.internal./computeMetadata/v1/instance/attributes/google-dockercfg
ERROR: logging before flag.Parse: E1029 07:14:17.590066      10 metadata.go:159] while reading 'google-dockercfg-url' metadata: http status code: 404 while fetching url http://metadata.google.internal./computeMetadata/v1/instance/attributes/google-dockercfg-url
2019/10/29 07:14:17 No matching credentials were found, falling back on anonymous
[36mINFO[0m[0001] Error while retrieving image from cache: getting file info: stat /workspace/sha256:763bfb478a6ebe05cfb728983ef7c23403eff251b8b75f022644376411f149fa: no such file or directory 
[36mINFO[0m[0001] Downloading base image open-liberty:javaee8-java12 
2019/10/29 07:14:18 No matching credentials were found, falling back on anonymous
[36mINFO[0m[0002] Using files from context: [/workspace/source/src/main/liberty/config] 
[36mINFO[0m[0002] Using files from context: [/workspace/source/target/coffee-shop.war] 
[36mINFO[0m[0002] Skipping unpacking as no commands require it. 
[36mINFO[0m[0002] Taking snapshot of full filesystem...        
[36mINFO[0m[0002] Using files from context: [/workspace/source/src/main/liberty/config] 
[36mINFO[0m[0002] COPY src/main/liberty/config/ /opt/ol/wlp/usr/servers/defaultServer/ 
[36mINFO[0m[0002] Taking snapshot of files...                  
[36mINFO[0m[0002] Using files from context: [/workspace/source/target/coffee-shop.war] 
[36mINFO[0m[0002] COPY target/*.war /opt/ol/wlp/usr/servers/defaultServer/apps/ 
[36mINFO[0m[0002] Taking snapshot of files...                  
2019/10/29 07:14:20 existing blob: sha256:079b6d2a1e53c648abc48222c63809de745146c2ee8322a1b9e93703318290d6
2019/10/29 07:14:20 existing blob: sha256:11048ebae90883c19c9b20f003d5dd2f5bbf5b48556dabf06c8ea5c871c8debe
2019/10/29 07:14:20 existing blob: sha256:c58094023a2e61ef9388e283026c5d6a4b6ff6d10d4f626e866d38f061e79bb9
2019/10/29 07:14:20 existing blob: sha256:428f71d387d1d9bf5a79dffdb2192857899f02f4476ef9f337758d275a01b2d5
2019/10/29 07:14:20 existing blob: sha256:12a4a5f4481dc11b352c15a49ef1f503c96f1d3f5acb9a341b864e152e5e7d00
2019/10/29 07:14:20 existing blob: sha256:e47fe2fdd5f85c9c952f22dc374de2df681454d62a5168f2f8c303b3af8aa2c4
2019/10/29 07:14:20 existing blob: sha256:22e816666fd6516bccd19765947232debc14a5baf2418b2202fd67b3807b6b91
2019/10/29 07:14:20 existing blob: sha256:9109481d7bc600d1ac519218b17d065dddab20149993fa495ca386df8cb5ea46
2019/10/29 07:14:20 existing blob: sha256:d67320a9e1f36ff866b3e32b9347b2f61fcfa601800d7a8324e3933326996d73
2019/10/29 07:14:20 existing blob: sha256:67902924709e27e910238f750db1648b183efdb40710c756076745e0995d2154
2019/10/29 07:14:20 existing blob: sha256:860b5f7ba94949bac7ca0732b9a01a77497e1613ac7adb14cd3f7ef011aa8730
2019/10/29 07:14:23 pushed blob: sha256:9afa741490bd31c4e799f05b2c7cfcb76b1302e24e2c5292296f75e0e47a3b0b
2019/10/29 07:14:24 pushed blob: sha256:63cb88e103cddd83ce15647c96424a2020ea2ad80f56c17bbce36b9b90461003
2019/10/29 07:14:24 pushed blob: sha256:7a3897cdf9e922176068128e923b41139264942b427b62e1ecf2637affd56ff6
2019/10/29 07:14:27 gcr.io/testing-215306/zero-downtime-kubernetes:1.0.21: digest: sha256:8cef73c0ba467febe894a898c923bb1f664adc691c157638f0b262ed3bfd5e52 size: 2372

Showing logs for build [32msdaschner-zero-downtime-kuberne-hhpzj-14[0m stage [32mfrom-build-pack[0m and container [32mstep-build-post-build[0m
no CVE provider running in the current ** namespace so skip adding image to be analysed

Showing logs for build [32msdaschner-zero-downtime-kuberne-hhpzj-14[0m stage [32mfrom-build-pack[0m and container [32mstep-promote-changelog[0m
Converted /workspace/source/charts/zero-downtime-kubernetes to an unshallow repository
Generating change log from git ref 8a2e633d59073fab6e28e352d51d3dad55453d8a => fc6c8a22761bf6cdd6eb4f19e6b8c170cfb7c5e7
WARNING: No release found for *********/zero-downtime-kubernetes and tag v1.0.21 so creating a new release
Updated the release information at https://github.com/*********/zero-downtime-kubernetes/releases/tag/v1.0.21
generated: /workspace/source/charts/zero-downtime-kubernetes/templates/release.yaml
Created Release zero-downtime-kubernetes-1-0-21 resource in namespace **
Updating PipelineActivity *********-zero-downtime-kubernetes-master-14 with version 1.0.21
Updated PipelineActivities *********-zero-downtime-kubernetes-master-14 with release notes URL: https://github.com/*********/zero-downtime-kubernetes/releases/tag/v1.0.21

Showing logs for build [32msdaschner-zero-downtime-kuberne-hhpzj-14[0m stage [32mfrom-build-pack[0m and container [32mstep-promote-helm-release[0m
WARNING: No $CHART_REPOSITORY defined so using the default value of: http://jenkins-x-chartmuseum:8080
Adding missing Helm repo: storage.googleapis.com https://storage.googleapis.com/chartmuseum.jenkins-x.io
Successfully added Helm repository storage.googleapis.com.
Adding missing Helm repo: jenkins-x-chartmuseum http://jenkins-x-chartmuseum:8080
Successfully added Helm repository jenkins-x-chartmuseum.
WARNING: No $CHART_REPOSITORY defined so using the default value of: http://jenkins-x-chartmuseum:8080
Uploading chart file zero-downtime-kubernetes-1.0.21.tgz to http://jenkins-x-chartmuseum:8080/api/charts
Received 201 response: {"saved":true}

Showing logs for build [32msdaschner-zero-downtime-kuberne-hhpzj-14[0m stage [32mfrom-build-pack[0m and container [32mstep-promote-jx-promote[0m
WARNING: prow based install so skip waiting for the merge of Pull Requests to go green as currently there is an issue with gettingstatuses from the PR, see https://github.com/jenkins-x/**/issues/2410
Promoting app zero-downtime-kubernetes version 1.0.21 to namespace **-staging
Created Pull Request: https://github.com/*********/environment-standard-cluster-1-staging/pull/47
Pull Request https://github.com/*********/environment-standard-cluster-1-staging/pull/47 is merged at sha 0d19b0e4dfd62ecc82be379724a88046f3edf636
Pull Request merged but we are not waiting for the update pipeline to complete!
